!function(){class e extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`
                <style>
                    .wrapper {
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                    }
                    .controls {
                        display: flex;
                        gap: 20px;
                        margin: 10px;
                    }
                    .score {
                        color: #fff;
                        font-family: Arial;
                    }
                    button {
                        padding: 5px;
                        background: #444;
                        color: #fff;
                        border: 1px solid #fff;
                        cursor: pointer;
                    }
                    canvas {
                        border: 2px solid #fff;
                        background: #000;
                    }
                </style>
                <div class="wrapper">
                    <div class="controls">
                        <div class="score">Score: <span id="s">0</span></div>
                        <button onclick="alert('Arrow keys to move\\nEat red food\\nDont hit walls/self')">How to play</button>
                    </div>
                    <canvas id="g" width="400" height="400"></canvas>
                </div>
            `;let e=this.shadowRoot.getElementById("g").getContext("2d"),t=this.shadowRoot.getElementById("s"),$=[{x:200,y:200}],o={x:0,y:0},r=0,a=0,l=0,n=0,s=0,i=()=>{o.x=20*Math.floor(20*Math.random()),o.y=20*Math.floor(20*Math.random())},f=(t,$,o)=>{e.fillStyle=o,e.fillRect(t,$,18,18)},d=(t,$,o)=>{e.font=o+"px Arial";let r=e.measureText(t);e.fillText(t,(400-r.width)/2,$)},c=()=>{e.fillStyle="#000",e.fillRect(0,0,400,400),$.forEach((e,t)=>f(e.x,e.y,t?"#090":"#0f0")),f(o.x,o.y,"#f00"),n&&(e.fillStyle="#fff",d("game over",180,30),d("score: "+l,220,30),d("space to restart",260,20))},x=()=>{if(n||!s)return;let e={x:$[0].x+r,y:$[0].y+a};if(e.x<0||e.x>380||e.y<0||e.y>380){n=1;return}$.unshift(e),e.x==o.x&&e.y==o.y?(l+=10,t.textContent=l,i()):$.pop();for(let f=1;f<$.length;f++)e.x==$[f].x&&e.y==$[f].y&&(n=1)},y=()=>{$=[{x:200,y:200}],r=a=l=n=0,s=0,t.textContent=0,i()};document.addEventListener("keydown",e=>{if("Space"==e.code&&n){y();return}let t=0;switch(e.key){case"ArrowUp":0==a&&(r=0,a=-20,t=1);break;case"ArrowDown":0==a&&(r=0,a=20,t=1);break;case"ArrowLeft":0==r&&(r=-20,a=0,t=1);break;case"ArrowRight":0==r&&(r=20,a=0,t=1)}!s&&t&&(s=1)}),i(),setInterval(()=>{x(),c()},100)}}customElements.get("snake-game")||customElements.define("snake-game",e)}();
