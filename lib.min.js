!function(){class e extends HTMLElement{constructor(){super();let e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(e){this.style.display="none";return}this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`
                <style>
                    .wrapper {
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                    }
                    .controls {
                        display: flex;
                        gap: 20px;
                        margin: 10px;
                    }
                    .score {
                        color: #fff;
                        font-family: Arial;
                    }
                    button {
                        padding: 5px;
                        background: #444;
                        color: #fff;
                        border: 1px solid #fff;
                        cursor: pointer;
                    }
                    canvas {
                        border: 2px solid #fff;
                        background: #000;
                    }
                </style>
                <div class="wrapper">
                    <div class="controls">
                        <div class="score">Score: <span id="s">0</span></div>
                        <button onclick="alert('Arrow keys to move\\nEat red food\\nDont hit walls/self')">How to play</button>
                    </div>
                    <canvas id="g" width="400" height="400"></canvas>
                </div>
            `;let t=this.shadowRoot.getElementById("g").getContext("2d"),o=this.shadowRoot.getElementById("s"),$=[{x:200,y:200}],r={x:0,y:0},n=0,a=0,i=0,l=0,s=0,d=()=>{r.x=20*Math.floor(20*Math.random()),r.y=20*Math.floor(20*Math.random())},f=(e,o,$)=>{t.fillStyle=$,t.fillRect(e,o,18,18)},c=(e,o,$)=>{t.font=$+"px Arial";let r=t.measureText(e);t.fillText(e,(400-r.width)/2,o)},y=()=>{t.fillStyle="#000",t.fillRect(0,0,400,400),$.forEach((e,t)=>f(e.x,e.y,t?"#090":"#0f0")),f(r.x,r.y,"#f00"),l&&(t.fillStyle="#fff",c("game over",180,30),c("score: "+i,220,30),c("space to restart",260,20))},x=()=>{if(l||!s)return;let e={x:$[0].x+n,y:$[0].y+a};if(e.x<0||e.x>380||e.y<0||e.y>380){l=1;return}$.unshift(e),e.x==r.x&&e.y==r.y?(i+=10,o.textContent=i,d()):$.pop();for(let t=1;t<$.length;t++)e.x==$[t].x&&e.y==$[t].y&&(l=1)},p=()=>{$=[{x:200,y:200}],n=a=i=l=0,s=0,o.textContent=0,d()};document.addEventListener("keydown",e=>{if("Space"==e.code&&l){p();return}let t=0;switch(e.key){case"ArrowUp":0==a&&(n=0,a=-20,t=1);break;case"ArrowDown":0==a&&(n=0,a=20,t=1);break;case"ArrowLeft":0==n&&(n=-20,a=0,t=1);break;case"ArrowRight":0==n&&(n=20,a=0,t=1)}!s&&t&&(s=1)}),d(),setInterval(()=>{x(),y()},100)}}customElements.get("snake-game")||customElements.define("snake-game",e)}();
